<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>3.3. コードの前にまずサンプル (スペック) から</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="start" href="index.html" title="PHPSpec リファレンスマニュアル" />
    <link rel="up" href="introduction.html" title="第3章 導入" />
    <link rel="prev" href="source.code.examples.as.documentation.html" title="3.2. ドキュメントとしてのソースコードサンプル" />
    <link rel="next" href="phpspec.and.bdd.in.context.html" title="3.4. PHPSpec および BDD について" />
    <link rel="preface" href="preface.html" title="序文" />
    <link rel="chapter" href="installing.phpspec.html" title="第1章 PHPSpec のインストール" />
    <link rel="chapter" href="getting.started.html" title="第2章 さぁはじめましょう" />
    <link rel="chapter" href="introduction.html" title="第3章 導入" />
    <link rel="chapter" href="phpspecs.goals.html" title="第4章 PHPSpec の目標" />
    <link rel="chapter" href="writing.specs.with.phpspec.html" title="第5章 PHPSpec でのスペックの記述" />
    <link rel="chapter" href="execution.methods.for.phpspec.html" title="第6章 PHPSpec の実行方法" />
    <link rel="appendix" href="copyrights.html" title="付録 A. 著作権について" />
    <link rel="index" href="the.index.html" title="目次" />
    <link rel="subsection" href="writing.examples.specs.before.writing.code.html#why.write.examples.first" title="3.3.1. なぜ先にサンプルから書き始めるの?" />
    <link rel="subsection" href="writing.examples.specs.before.writing.code.html#workflow.of.bdd.using.phpspec" title="3.3.2. PHPSpec を使用した BDD の流れ" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">3.3. コードの前にまずサンプル (スペック) から</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="source.code.examples.as.documentation.html">前のページ</a> </td>
          <th width="60%" align="center">第3章 導入</th>
          <td width="20%" align="right"> <a accesskey="n" href="phpspec.and.bdd.in.context.html">次のページ</a></td>
        </tr>
      </table>
    </div>
    <div class="section" lang="ja" xml:lang="ja">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both"><a id="writing.examples.specs.before.writing.code"></a>3.3. コードの前にまずサンプル (スペック) から</h2>
          </div>
        </div>
      </div>
      <p>
      一連の手法を進めていくと、次のようなことが頭に浮かぶようになります。
      もし私たちが作成したサンプル/テストがそんなにすばらしいドキュメント
      <a id="id566620" class="indexterm"></a>
      だというのなら、もしそれがクラスやアプリケーションの振る舞いをきちんと説明しており
      繰り返し実行可能なものなのだとしたら、
      設計ドキュメントを書くかわりにまずサンプルを最初に書くようにして、
      それをもとにコードを実装していくという方法はどうでしょう?
    </p>
      <p>
      これはまさに、テスト駆動開発 <a id="id566110" class="indexterm"></a> における悪名高い "テストファースト! テストファースト!"
      と同じことです。PHPSpec は振舞駆動開発用のフレームワークなので、
      ここではその代わりに "スペックファースト! スペックファースト!"
      と叫ぶことにします。
    </p>
      <div class="section" lang="ja" xml:lang="ja">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="why.write.examples.first"></a>3.3.1. なぜ先にサンプルから書き始めるの?</h3>
            </div>
          </div>
        </div>
        <p>
        サンプルから先に書き始める理由は、ごく単純なものです。
      </p>
        <p>
        まずはじめに、自分たちが直面している問題を把握することで
        これからやるべきことをはっきりさせるという効果があります。
        スペックやテストを書かず、
        堅いことを考えずにさっさとコーディングを始めようとしてしまい、
        結局方向性を見失ってしまう。
        誰でも一度はそんな経験があるはずです!
        一方、サンプルを書くということは、
        まず最初に公開 API をどのようにするかを検討しなければならないということを意味します。
        また各部品間のロジックの流れや出力内容、実装に必要なロジックなども検討することになります。
      </p>
        <p>
        もうひとつの効用は、
        すこしずつ一歩一歩進めていくことでよりよいコードを書けるということです。
        「仕様を考えてサンプルを書き、それを満たすコードを実装し、
        リファクタリングし、そしてまた最初に戻る」
        という一連の流れを細かく繰り返すことで、
        よりよい設計のコードができあがるようになります。
        その結果できあがったコードは保守しやすいものとなり、
        またシンプルですっきりしたものとなるでしょう。
        一般に、そのようなコードのほうがバグも少なくなります。
      </p>
        <p>
        それ以外にもさまざまな利点がありますが、
        中でも最大の利点は確信を持てるようになるということでしょう
        <a id="id1409446" class="indexterm"></a>。
        自分の設計、コードの品質、プログラマとしてのスキルなどに自信が持てるようになり、
        コードを変更する際にも怖がることはなくなります。
        また、ソースコードがきちんと設計されていてテストが行われているということに対する
        他のプログラマやユーザからの信頼も得られます。
      </p>
      </div>
      <div class="section" lang="ja" xml:lang="ja">
        <div class="titlepage">
          <div>
            <div>
              <h3 class="title"><a id="workflow.of.bdd.using.phpspec"></a>3.3.2. PHPSpec を使用した BDD の流れ</h3>
            </div>
          </div>
        </div>
        <p>
        普段のコーディング作業に BDD を適用する手順をまとめます<a id="id566066" class="indexterm"></a>。
        サンプルを書いたらまず一度それを実行し、失敗することを確認するようにしましょう。
        あとは、そのサンプルが成功するようになるまで実装を行います。
      </p>
        <div class="orderedlist">
          <ol type="1">
            <li>
              <p>実装したい振る舞いを特定する</p>
            </li>
            <li>
              <p>
            それを "it should ... (... でなければならない)" 形式の普通の文章
            (仕様) にまとめる
          </p>
            </li>
            <li>
              <p>
            その仕様の中の "it should" 部分に対応するスペック/
            サンプルを書く
          </p>
            </li>
            <li>
              <p>
            そのスペックが定義している振る舞いを実装する
          </p>
            </li>
            <li>
              <p>必要に応じて実装コードをリファクタリングする</p>
            </li>
            <li>
              <p>1 に戻る</p>
            </li>
          </ol>
        </div>
        <p>
        後で振舞駆動開発について説明するときに、
        これらについてより詳しく取り上げます。
        これは、TDD における「テストを書いて、コードを書いて、
        そしてリファクタリングする」という手順に似ていますが、
        BDD ではそれだけでなく ドキュメント/仕様
        という観点も重視しています。本書では、テスト手法については特に取り上げません
        (作成したスペックがテストとしても有効であるというのは偶然の産物であり、
        BDD の真の目的はよりよい設計を目指すということです)。
      </p>
      </div>
    </div>
    <div class="navfooter">
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="source.code.examples.as.documentation.html">前のページ</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="introduction.html">上に戻る</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="phpspec.and.bdd.in.context.html">次のページ</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">3.2. ドキュメントとしてのソースコードサンプル </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">ホーム</a>
          </td>
          <td width="40%" align="right" valign="top"> 3.4. PHPSpec および BDD について</td>
        </tr>
      </table>
    </div>
    <div xmlns="" class="revinfo"></div>
  </body>
</html>
